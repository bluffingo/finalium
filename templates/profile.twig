{% extends "_layout.twig" %}
{% block title %}{{ data.displayname }}{% endblock %}

{% block head %}
    <meta name="title" content="{{ data.displayname }} - {{ website_branding.name }}">
    <meta name="description"
          content="{{ data.about|length > 250 ? data.about|slice(0, 250) ~ '...' : data.about }}">
    <meta name="theme-color" content="{{ data.customcolor }}">
    <meta property="og:site_name" content="{{ website_branding.name }}"/>
    <meta property="og:title" content="{{ data.displayname }} - {{ website_branding.name }}">
    <meta property="og:description"
          content="{{ data.about|length > 250 ? data.about|slice(0, 250) ~ '...' : data.about }}">
    <meta property="og:image" content="{{ profile_picture(user_data.name) }}">
    <meta property="og:url" content="{{ page_url }}">
    <script>
        user_id = '{{ data.id }}';
    </script>
{% endblock %}

{% block customcss %}
    .channel-header-bg {
        background: url('{{ profile_banner(data.username) }}') center no-repeat, #333;
        height: 210px;
    }
{% endblock %}

{% block content %}
    <div class="channel-header-bg">
        <img class="channel-header-profile-picture" 
             src="{{ profile_picture(data.username) }}"  
             alt="{{ data.username }}">
    </div>
    <div class="card channel-header">
        <div class="card-body">
            <div class="channel-header-primary">
                <h1>{{ data.displayname }}</h1>
            </div>
            <div class="channel-header-secondary">
                <a class="tab" href="/user/{{ data.displayname }}">Home</a>
                <a class="tab" href="/user/{{ data.displayname }}/uploads">Uploads</a>
                <a class="tab" href="/user/{{ data.displayname }}/journals">Journals</a>
                <a class="tab" href="/user/{{ data.displayname }}/comments">Discussion</a>
                <a class="tab" href="/user/{{ data.displayname }}/about">About</a>
            </div>
        </div>
    </div>
    <div class="card">
        <div class="card-body">
            {% for submission in data.submissions %}
                {{ submission_box(submission) }}
            {% else %}
                <p>There are currently no uploads by {{ data.displayname }}</p>
            {% endfor %}
        </div>
    </div>
{% endblock %}