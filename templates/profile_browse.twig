{% extends "_layout_profile.twig" %}
{% block title %}{{ data.displayname }}{% endblock %}

{% set total_pages = (data.count / items_per_page) | round(0, 'ceil') %}
{% set current_page = page %}

{% if type == 'recent' %}
    {% set le_url = 'user/' ~ data.username ~ '/uploads?page=%s' %}
{% else %}
    {% set le_url = 'user/' ~ data.username ~ '/uploads?type=' ~ type ~ '&page=%s' %}
{% endif %}

{% set selected_tab = "uploads" %}

{% block profile_content %}
    <div class="card">
        <div class="card-body">
            {% for submission in data.submissions %}
                {{ submission_box(submission) }}
            {% else %}
                <p>There are currently no uploads by {{ data.displayname }}</p>
            {% endfor %}

            {{ pagination(data.count, items_per_page, le_url, current_page) }}
        </div>
    </div>
{% endblock %}